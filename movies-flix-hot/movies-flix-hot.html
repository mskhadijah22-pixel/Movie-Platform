<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieFlix Hot</title>
    <style>
        /* General Body Styles */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0;
            background-color: #121212;
            color: #ffffff;
            transition: background-color 0.3s;
        }

        /* Header Styles */
        header {
            background-color: #1a1a1a;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            border-bottom: 1px solid #2a2a2a;
        }

        header h1 {
            margin: 0;
            font-size: 2rem;
            color: #e50914;
        }

        .search-and-filter {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        #search-bar, #category-filter {
            padding: 10px 15px;
            border-radius: 25px;
            border: 1px solid #333;
            background-color: #222;
            color: #fff;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        
        #search-bar:focus, #category-filter:focus {
            border-color: #e50914;
            box-shadow: 0 0 5px rgba(229, 9, 20, 0.5);
        }

        /* Main Container for Movie Grid */
        main {
            padding: 20px;
        }

        /* Movie Grid Layout */
        .movie-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px;
        }

        /* Movie Card Styles */
        .movie-card {
            background-color: #1a1a1a;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }
        
        .movie-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }

        .movie-card img {
            width: 100%;
            height: auto;
            display: block;
        }

        .movie-card .title-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), rgba(0,0,0,0));
            padding: 20px 10px 10px;
        }

        .movie-card h3 {
            margin: 0;
            font-size: 1.1rem;
            color: #fff;
            text-align: center;
        }

        /* Movie Detail View */
        .movie-detail-container {
            padding: 40px;
            display: flex;
            gap: 40px;
            align-items: flex-start;
        }

        .movie-detail-poster img {
            max-width: 300px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .movie-detail-info h2 {
            font-size: 2.5rem;
            margin-top: 0;
            color: #e50914;
        }

        .movie-detail-info p {
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .movie-detail-info strong {
            color: #bbb;
        }

        /* Screenshots Gallery */
        .screenshots-gallery {
            margin-top: 20px;
        }
        
        .screenshots-gallery h4 {
            font-size: 1.5rem;
            border-bottom: 2px solid #e50914;
            padding-bottom: 5px;
            display: inline-block;
        }

        /* Image Slider Styles */
        .image-slider {
            position: relative;
            margin: 20px 0;
            max-width: 100%;
        }

        .slider-container {
            position: relative;
            width: 100%;
            height: 300px;
            border-radius: 12px;
            overflow: hidden;
            background-color: #1a1a1a;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .slider-wrapper {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 100%;
        }

        .slider-slide {
            min-width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slider-slide img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
        }

        /* Navigation Arrows */
        .slider-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s, transform 0.3s;
            z-index: 10;
        }

        .slider-arrow:hover {
            background-color: rgba(229, 9, 20, 0.8);
            transform: translateY(-50%) scale(1.1);
        }

        .slider-arrow.prev {
            left: 15px;
        }

        .slider-arrow.next {
            right: 15px;
        }

        /* Image Counter */
        .slider-counter {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        /* Dots Navigation */
        .slider-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }

        .slider-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #666;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .slider-dot.active {
            background-color: #e50914;
            transform: scale(1.2);
        }

        .slider-dot:hover {
            background-color: #888;
        }

        /* Fallback Gallery (for no screenshots) */
        .gallery {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding-bottom: 15px;
        }

        .gallery img {
            max-height: 150px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .gallery img:hover {
            transform: scale(1.05);
        }

        /* Lightbox Modal */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }

        .lightbox-content img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 8px;
        }

        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            padding: 10px;
        }

        .lightbox-close:hover {
            color: #e50914;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .slider-container {
                height: 250px;
            }
            
            .slider-arrow {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .slider-counter {
                bottom: 10px;
                right: 10px;
                padding: 6px 12px;
                font-size: 0.8rem;
            }
        }

        /* Download & Back Buttons */
        .action-buttons {
            margin-top: 30px;
            display: flex;
            gap: 15px;
        }

        .action-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: background-color 0.3s, transform 0.2s;
        }

        .download-btn {
            background-color: #e50914;
            color: #fff;
        }
        
        .download-btn:hover {
            background-color: #f40612;
            transform: translateY(-2px);
        }

        .back-btn {
            background-color: #333;
            color: #fff;
        }
        
        .back-btn:hover {
            background-color: #444;
            transform: translateY(-2px);
        }
        
        /* Helper Classes */
        .hidden {
            display: none;
        }
        
        .loader {
            text-align: center;
            padding: 50px;
            font-size: 1.5rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 20px;
            }

            .movie-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }
            
            .movie-detail-container {
                flex-direction: column;
                align-items: center;
                padding: 20px;
                gap: 20px;
            }

            .movie-detail-poster img {
                max-width: 100%;
            }

            .movie-detail-info h2 {
                font-size: 2rem;
                text-align: center;
            }
            
            .movie-detail-info {
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .movie-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>

    <header>
        <h1>MovieFlix Hot</h1>
        <div class="search-and-filter">
            <input type="text" id="search-bar" placeholder="Search movies by title...">
            <select id="category-filter">
                <option value="all">All Categories</option>
            </select>
        </div>
    </header>

    <main id="app-container">
        <div class="loader">Loading movies...</div>
        <div class="movie-grid" id="movie-grid">
            <!-- Movies will be dynamically inserted here -->
        </div>
    </main>

    <div id="movie-detail-view" class="hidden">
        <!-- Movie details will be rendered here -->
    </div>

    <!-- Firebase Modular SDK -->
    <script type="module">
        // Import functions from the Firebase SDK
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getFirestore, collection, getDocs, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
  apiKey: "AIzaSyC93ax-UXD7cBomh3QfmYmMcFa9b_22Hfs",
  authDomain: "adult-video-a767a.firebaseapp.com",
  databaseURL: "https://adult-video-a767a-default-rtdb.firebaseio.com",
  projectId: "adult-video-a767a",
  storageBucket: "adult-video-a767a.firebasestorage.app",
  messagingSenderId: "121567208252",
  appId: "1:121567208252:web:3c96bdce7491ade1a1f439",
  measurementId: "G-196SZJ6D77"
};

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // DOM Elements
        const movieGrid = document.getElementById('movie-grid');
        const movieDetailView = document.getElementById('movie-detail-view');
        const appContainer = document.getElementById('app-container');
        const searchBar = document.getElementById('search-bar');
        const categoryFilter = document.getElementById('category-filter');
        const loader = document.querySelector('.loader');
        
        let allMoviesData = []; // To store all fetched movies locally

        // Function to render the movie grid
        function renderMovieGrid(movies) {
            movieGrid.innerHTML = '';
            if (movies.length === 0) {
                movieGrid.innerHTML = '<p>No movies found.</p>';
                return;
            }
            movies.forEach(movie => {
                const movieCard = document.createElement('div');
                movieCard.className = 'movie-card';
                movieCard.dataset.id = movie.id;

                movieCard.innerHTML = `
                    <img src="${movie.posterURL}" alt="${movie.title}" loading="lazy">
                    <div class="title-overlay">
                        <h3>${movie.title}</h3>
                    </div>
                `;
                
                movieCard.addEventListener('click', () => showMovieDetails(movie.id));
                movieGrid.appendChild(movieCard);
            });
        }

        // Function to show movie details
        async function showMovieDetails(movieId) {
            appContainer.classList.add('hidden');
            movieDetailView.classList.remove('hidden');
            movieDetailView.innerHTML = '<div class="loader">Loading details...</div>';

            try {
                const docRef = doc(db, "movies", movieId);
                const docSnap = await getDoc(docRef);

                if (docSnap.exists()) {
                    const movie = docSnap.data();
                    
                    movieDetailView.innerHTML = `
                        <div class="movie-detail-container">
                            <div class="movie-detail-poster">
                                <img src="${movie.posterURL}" alt="${movie.title}">
                            </div>
                            <div class="movie-detail-info">
                                <h2>${movie.title}</h2>
                                <p>${movie.description}</p>
                                <p><strong>Duration:</strong> ${movie.duration}</p>
                                <p><strong>Category:</strong> ${movie.category}</p>
                                
                                <div class="screenshots-gallery">
                                    <h4>Screenshots</h4>
                                    ${movie.screenshots && movie.screenshots.length > 0 
                                        ? createImageSlider(movie.screenshots)
                                        : '<p>No screenshots available.</p>'
                                    }
                                </div>
                                
                                <div class="action-buttons">
                                    <a href="${movie.downloadLink}" target="_blank" rel="noopener noreferrer" class="action-btn download-btn">Download & Watch</a>
                                    <button id="back-to-grid-btn" class="action-btn back-btn">Back to Home</button>
                                </div>
                            </div>
                        </div>
                    `;

                    // Initialize image slider if screenshots exist
                    if (movie.screenshots && movie.screenshots.length > 0) {
                        initializeImageSlider(movie.screenshots);
                    }

                    document.getElementById('back-to-grid-btn').addEventListener('click', backToHome);
                } else {
                    movieDetailView.innerHTML = '<p>Could not find movie details.</p>';
                }
            } catch (error) {
                console.error("Error fetching movie details:", error);
                movieDetailView.innerHTML = '<p>Error loading details. Please try again.</p>';
            }
        }

        // Create image slider HTML
        function createImageSlider(screenshots) {
            const slideCount = screenshots.length;
            let sliderHTML = `
                <div class="image-slider">
                    <div class="slider-container">
                        <div class="slider-wrapper">
            `;

            screenshots.forEach((screenshot, index) => {
                sliderHTML += `
                    <div class="slider-slide" data-slide="${index}">
                        <img src="${screenshot}" alt="Screenshot ${index + 1}" onclick="openLightbox(${index})">
                    </div>
                `;
            });

            sliderHTML += `
                        </div>
                        <button class="slider-arrow prev" onclick="previousSlide()">‹</button>
                        <button class="slider-arrow next" onclick="nextSlide()">›</button>
                        <div class="slider-counter">
                            <span id="current-slide">1</span> / ${slideCount}
                        </div>
                    </div>
                    <div class="slider-dots">
            `;

            for (let i = 0; i < slideCount; i++) {
                sliderHTML += `<div class="slider-dot ${i === 0 ? 'active' : ''}" onclick="goToSlide(${i})"></div>`;
            }

            sliderHTML += `
                    </div>
                </div>
                <div class="lightbox" id="lightbox" onclick="closeLightbox()">
                    <div class="lightbox-content" onclick="event.stopPropagation()">
                        <button class="lightbox-close" onclick="closeLightbox()">×</button>
                        <img id="lightbox-image" src="" alt="">
                    </div>
                </div>
            `;

            return sliderHTML;
        }

        // Image slider variables
        let currentSlideIndex = 0;
        let totalSlides = 0;
        let currentScreenshots = [];

        // Initialize image slider
        function initializeImageSlider(screenshots) {
            currentScreenshots = screenshots;
            totalSlides = screenshots.length;
            currentSlideIndex = 0;
            
            // Add touch/swipe support
            const sliderContainer = document.querySelector('.slider-container');
            if (sliderContainer) {
                let startX = 0;
                let endX = 0;

                sliderContainer.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                });

                sliderContainer.addEventListener('touchend', (e) => {
                    endX = e.changedTouches[0].clientX;
                    handleSwipe();
                });

                function handleSwipe() {
                    const diff = startX - endX;
                    const threshold = 50;

                    if (Math.abs(diff) > threshold) {
                        if (diff > 0) {
                            nextSlide();
                        } else {
                            previousSlide();
                        }
                    }
                }
            }
        }

        // Navigation functions
        function nextSlide() {
            if (currentSlideIndex < totalSlides - 1) {
                currentSlideIndex++;
                updateSlider();
            }
        }

        function previousSlide() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                updateSlider();
            }
        }

        function goToSlide(index) {
            currentSlideIndex = index;
            updateSlider();
        }

        function updateSlider() {
            const sliderWrapper = document.querySelector('.slider-wrapper');
            const currentSlideSpan = document.getElementById('current-slide');
            const dots = document.querySelectorAll('.slider-dot');

            if (sliderWrapper && currentSlideSpan) {
                sliderWrapper.style.transform = `translateX(-${currentSlideIndex * 100}%)`;
                currentSlideSpan.textContent = currentSlideIndex + 1;
            }

            // Update dots
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlideIndex);
            });
        }

        // Lightbox functions
        function openLightbox(slideIndex) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            
            if (lightbox && lightboxImage) {
                lightboxImage.src = currentScreenshots[slideIndex];
                lightbox.classList.add('active');
            }
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            if (lightbox) {
                lightbox.classList.remove('active');
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const lightbox = document.getElementById('lightbox');
            if (lightbox && lightbox.classList.contains('active')) {
                switch(e.key) {
                    case 'Escape':
                        closeLightbox();
                        break;
                    case 'ArrowLeft':
                        if (currentSlideIndex > 0) {
                            previousSlide();
                        }
                        break;
                    case 'ArrowRight':
                        if (currentSlideIndex < totalSlides - 1) {
                            nextSlide();
                        }
                        break;
                }
            }
        });

        // Function to go back to the home/grid view
        function backToHome() {
            movieDetailView.classList.add('hidden');
            appContainer.classList.remove('hidden');
            movieDetailView.innerHTML = '';
        }

        // Populate category filter dropdown
        function populateCategories(movies) {
            const categories = [...new Set(movies.map(movie => movie.category))];
            categories.sort().forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                categoryFilter.appendChild(option);
            });
        }
        
        // Filter movies based on search and category
        function filterAndRenderMovies() {
            const searchTerm = searchBar.value.toLowerCase();
            const selectedCategory = categoryFilter.value;

            const filteredMovies = allMoviesData.filter(movie => {
                const titleMatch = movie.title.toLowerCase().includes(searchTerm);
                const categoryMatch = selectedCategory === 'all' || movie.category === selectedCategory;
                return titleMatch && categoryMatch;
            });
            
            renderMovieGrid(filteredMovies);
        }

        // Fetch all movies from Firestore on initial load
        async function fetchAllMovies() {
            try {
                const querySnapshot = await getDocs(collection(db, "movies"));
                allMoviesData = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                
                loader.classList.add('hidden');
                
                renderMovieGrid(allMoviesData);
                populateCategories(allMoviesData);
                
                // Add event listeners after data is fetched
                searchBar.addEventListener('input', filterAndRenderMovies);
                categoryFilter.addEventListener('change', filterAndRenderMovies);

            } catch (error) {
                console.error("Error fetching movies: ", error);
                loader.textContent = 'Failed to load movies. Please check your connection and Firebase setup.';
            }
        }

        // Initial load
        fetchAllMovies();

    </script>

<script type='text/javascript' src='//accountantflowerrespiration.com/31/0b/50/310b508fc5771984195db5013cccce81.js'></script>

<script>(function(s){s.dataset.zone='10179480',s.src='https://nap5k.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>

</body>
</html>